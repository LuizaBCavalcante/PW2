<!DOCTYPE html>
<html lang="pt-br"
      xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout(~{::head}, ~{::main}, 'Formulário de Produtos')}">
<head th:replace="~{fragments/head :: head(~{},~{::title})}">
    <title>Formulário de Produto</title>

</head>
<main>

<form th:action="@{${produto.id == null ? '/produto/save' : '/produto/update'}}" th:object="${produto}" method="post">

    <input type="hidden" th:field="*{id}">

    <div class="mb-3">
        <label for="descricao" class="form-label">Descrição:</label>
        <input id="descricao" type="text" class="form-control" th:field="*{descricao}" th:classappend="${#fields.hasErrors('descricao')} ? 'is-invalid'">
        <div class="invalid-feedback" th:if="${#fields.hasErrors('descricao')}" th:errors="*{descricao}">
            Erro na descrição
        </div>
    </div>
    <div class="mb-3">
        <label for="valor" class="form-label">Valor:</label>
        <input id="valor" type="number" step="0.01" class="form-control" th:field="*{valor}" th:classappend="${#fields.hasErrors('valor')} ? 'is-invalid'">
        <div class="invalid-feedback" th:if="${#fields.hasErrors('valor')}" th:errors="*{valor}">
            Erro no valor
        </div>
    </div>
    <div class="mb-3">
        <label for="imagem" class="form-label">URL da Imagem:</label>
        <input id="imagem"type="text" class="form-control" th:field="*{imagem}">
    </div>

    <input type="submit" value="Salvar" class="btn btn-primary">
    <a href="/produto/list" class="btn btn-secondary">Cancelar</a>
</form>
</main>
</html>